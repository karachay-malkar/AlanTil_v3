<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="top">
    <div class="titleWrap">
    <div class="brand">
  <img src="logo.png" class="brandIcon" alt="–ê–ª–∞–Ω –¢–∏–ª">
</div>
        <button id="btnBackArrow" class="backArrow" aria-label="–ù–∞–∑–∞–¥" title="–ù–∞–∑–∞–¥">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
          </svg>
        </button>
    </div>
    <div class="meta">
      <span id="counter">‚Äî</span>
      <span id="mode">‚Äî</span>
    </div>
  </header>

  <main class="wrap">
    <!-- –£–†–û–í–ï–ù–¨ 1: –°–õ–û–í–ê–†–ò -->
    <section id="viewDicts" class="view">
      <div class="panel">
        <div class="panelTitle">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</div>

        <div class="row">
          <button id="btnGlobalTest" class="btn primary">–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å!</button>
        </div>

        <div class="row">
          <button id="btnOpenLearnMenu" class="btn primary">üìö –£—á–∏—Ç—å —Å–ª–æ–≤–∞</button>
        </div>
      </div>
    </section>

    
    <!-- –ù–û–í–´–ô –≠–ö–†–ê–ù: –£–ß–ò–¢–¨ –°–õ–û–í–ê -->
    <section id="viewLearnMenu" class="view hidden">
      <div class="panel">
        <div class="panelTitle">–£—á–∏—Ç—å —Å–ª–æ–≤–∞</div>
        <div id="dictsList" class="stack"></div>
        <div class="smallNote"></div>
      </div>
    </section>

    <!-- –£–†–û–í–ï–ù–¨ 2: –†–ê–ó–î–ï–õ–´ -->
    <section id="viewSections" class="view hidden">
      <div class="panel">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
          <div class="panelTitle" id="sectionsTitle">–†–∞–∑–¥–µ–ª—ã</div>
          <button id="btnOpenDictContent" class="iconBtn" aria-label="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è" title="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è">
            <img src="words_search.svg" alt="">
          </button>
        </div>
<div id="sectionsList" class="stack"></div>
        <div class="row">
          <button id="btnBackToDicts" class="btn ghost" data-legacy-back="1">‚Üê –°–ª–æ–≤–∞—Ä–∏</button>
        </div>
      </div>
    </section>

    <!-- –°–û–î–ï–†–ñ–ê–ù–ò–ï –°–õ–û–í–ê–†–Ø (–°–ü–†–ê–í–û–ß–ù–ò–ö) -->
    <section id="viewDictContent" class="view hidden">
      <div class="panel">
        <div class="panelTitle">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è</div>

        <input id="dictSearchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥—É" />

        <div id="dictContentList" class="stack"></div>
      </div>
    </section>

    <!-- –£–†–û–í–ï–ù–¨ 3: –°–ï–¢–´ -->
    <section id="viewSets" class="view hidden">
      <div class="panel">
        <div class="panelTitle" id="setsTitle">–°–µ—Ç—ã</div>
        <div id="setsList" class="stack"></div>
        <div class="row">
          <button id="btnBackToSections" class="btn ghost" data-legacy-back="1">‚Üê –†–∞–∑–¥–µ–ª—ã</button>
        </div>
      </div>
    </section>

    <!-- –ú–ï–ù–Æ –°–ï–¢–ê -->
    <section id="viewSetMenu" class="view hidden">
      <div class="panel">
        <div class="panelTitle" id="setMenuTitle">–°–µ—Ç</div>
        <div class="hintText" id="setMenuInfo">‚Äî</div>

        <div class="row">
          <button id="btnModeKb" class="btn primary">–ê–õ–ê–ù ‚Üí –†–£–°</button>
          <button id="btnModeRu" class="btn primary">–†–£–° ‚Üí –ê–õ–ê–ù</button>
        </div>

        <div class="row">
          <button id="btnSetShowAll" class="btn">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</button>
          <button id="btnSetHideAll" class="btn">–°–∫—Ä—ã—Ç—å –≤—Å–µ</button>
        </div>

        <div id="setWordsList" class="list"></div>

        <div class="row">
          <button id="btnBackToSets2" class="btn ghost" data-legacy-back="1">‚Üê –ö —Å–µ—Ç–∞–º</button>
        </div>
      </div>
    </section>

    <!-- –ú–ï–ù–Æ –ì–õ–û–ë–ê–õ–¨–ù–û–ì–û –¢–ï–°–¢–ê -->
    <section id="viewGlobalTestMenu" class="view hidden">
      <div class="panel">
        <div class="panelTitle">–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è!</div>
        <div class="hintText" id="globalTestInfo">‚Äî</div>

        
        <div class="testScopeTitle">–°–ª–æ–≤–∞—Ä–∏ –∏ —Ä–∞–∑–¥–µ–ª—ã</div>
        <div id="testScopeBody" class="testScope">
          <div id="testScopeList" class="testScopeList"></div>
        </div>

        <div class="testLimitRow">
          <div class="testLimitTitle">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤</div>
          <div class="testLimitRadios">
          <label class="radioOpt"><input type="radio" name="testLimit" value="30"> <span>30</span></label>
          <label class="radioOpt"><input type="radio" name="testLimit" value="50" checked> <span>50</span></label>
          <label class="radioOpt"><input type="radio" name="testLimit" value="100"> <span>100</span></label>
          </div>
        </div>
<div class="row">
          <button id="btnGlobalModeKb" class="btn primary">ALAN ‚Üí RUS</button>
          <button id="btnGlobalModeRu" class="btn primary">RUS ‚Üí ALAN</button>
        </div>

      </div>
    </section>

    <!-- –¢–ï–°–¢ -->
    <section id="viewTest" class="view hidden">
      <div class="panel">
        <div class="panelTitle" id="testTitle">–¢–µ—Å—Ç</div>
        <div class="hintText" id="testProgress">‚Äî</div>

        <div class="testQuestion" id="testQuestion">‚Äî</div>
        <div id="testOptions" class="stack" style="margin-top:12px;"></div>

        <div class="row">
          <button id="btnTestNext" class="btn primary hidden" disabled>–î–∞–ª—å—à–µ</button>
        </div>
      </div>
    </section>

    <!-- –°–ï–°–°–ò–Ø -->
    <section id="viewStudy" class="view hidden study">
      <div id="card" class="card big" aria-label="–ö–∞—Ä—Ç–æ—á–∫–∞">
        <button id="btnFav" class="favBtn" aria-label="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">‚òÜ</button>
        <div class="word" id="word">—Å–ª–æ–≤–æ</div>
        <div class="trans hidden" id="trans">–ø–µ—Ä–µ–≤–æ–¥</div>

                <div id="exampleBox" class="example hidden"></div>

        <div class="hint">–ù–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–µ—Ä–µ–≤–æ–¥</div>
      </div>

      <div class="buttons">
        <button id="btnNo" class="btn secondary">‚ùå –ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
        <button id="btnYes" class="btn primary">‚úÖ –ó–Ω–∞—é</button>
      </div>

      <div class="footer">
        <button id="btnBackToSetMenu" class="btn ghost" data-legacy-back="1">–ö –º–µ–Ω—é —Å–µ—Ç–∞</button>
      </div>
    </section>
  </main>

  <script src="words.js"></script>

<script>
  window.WORDS_CACHE_KEY = "fc_words_cache_v5";
</script>

  <script src="app.js"></script>
</body>
</html>
